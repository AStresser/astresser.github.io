# OSPF. Phase II - зональность и версии

Расчет по алгоритму SPF в условиях крупной сети является трудоемкой задачей, поэтому в целях масштабирования сети OSPF принято разбивать на несколько зон, в пределах которых проводят расчет все ее роутеры.

## Однозональное vs многозональное

- **Однозональное OSPF** - все роутеры в одной зоне, чаще всего это зона 0.
- **Многозональное OSPF** - зона 0 выступает в роли магистральной, эдакого корня дерева, с которой соединены все остальные. Соединяющие зоны роутеры называются Area Border Routers (ABR, ~пограничные).

## Многозональность

Основная суть в том, что в такой конфигурации при сохранении маршрутизации между зонами, все перерасчеты баз происходят внутри зон.

- **Роутеры в других зонах все еще получают уведомления об обновлении топологии, однако это влияет только на таблицу маршрутизации и не приводит к перерасчету алгоритма OSPF**

Плюсы многозональности или три затягивания пояса:

- **Уменьшение таблицы маршрутизации** - благодаря механизму суммирования сетевых адресов, отключенному по умолчанию для однозонального OSPF, количество записей в таблицах маршрутизации уменьшается.
- **Уменьшение количества LSU** - ограничение размеров зон благотворно сказывается на требованиях к памяти и вычислительной мощности роутеров в их пределах.
- **Уменьшение частоты перерасчета SPF** - из-за локализации разрывов соединения по зоне уменьшается частота перерасчета SPF, в этом смысле зоны являются эдакими доменами широковещательной рассылки LSA. На самом деле это не совсем так - существует специальный вид LSA, не возбуждающий перерасчета SPF и вызывающий только обновление LSDB и таблицы маршрутизации.

## OSPFv2 и OSPFv3

- **OSPFv2** поддерживает только **IPv4**.
- **OSPFv3** поддерживает **IPv6 и IPv4** при помощи функции address family (как в BGP).