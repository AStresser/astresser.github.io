# Глава 3: о hello-пакетах, типах зон и DR/BDR

![Hello packet](pics/hello_packet.PNG)

Hello-пакеты занимаются следующими вещами:

- Обнаруживают соседей по OSPF
- Рассылаются по мультикаст адресу OSPF 244.0.0.5
- Если сеть не поддерживает мультикаст, то каждому OSPF-интерфейсу в ручную назначаются адреса и пакеты прилетают по юникасту
- Своим содержимым определяют, смогут ли роутеры стать соседями по OSPF

## Содержимое hello-пакета

Пакет содержит следующие поля:

![Hello fields](pics/hello_fields.PNG)

- Router-ID - идентификатор роутера, адрес с маской 32.
- Hello Interval - интервал, через который рассылаются пакеты.
- Dead Interval - интервал, после которого сосед считается умершим.
- Neighbors - список соседей отправляющего, подтверждает получение пакета соседом.
- Area ID - идентификатор зоны, роутеры должны находиться в одной зоне.
- Auth Data - поле для парольной аутентификации членов сети.
- Network Mask - интерфейсы должны находиться в одной сети.

## Виды зон

Существует три вида зон. Основной отличительной чертой является их отношение к редистрибуции маршрутов из других автономных систем:

- **Normal Area** - редистрибутирует маршруты из других автономных систем. 10+10+10+100=130 маршрутов (см. рисунок)
- **Stub Area** - не редистрибутирует маршруты из других автономных систем, компенсируя это маршрутом по умолчанию. 10+10+10+1=31 маршруто (см. рисунок)
- **Not So Stubby Area** - редистрибутирует маршруты, но только из локальной автономной системы, опционально заменима маршрутом по умолчанию. 50+10+10+10=80 маршрутов (см. рисунок 2)

![Areas](pics/areas_description.PNG)

Поменяем нашу топологию для иллюстрации NSSA

![NSSA](pics/NSSA.PNG)

По умолчанию зона является Normal. Все отличные от нее созданы для того, чтобы экономить на редистрибуции ненужных маршрутов от автономных систем.