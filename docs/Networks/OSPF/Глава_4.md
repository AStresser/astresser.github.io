# Глава 4: об установлении смежности

Вспомним о том, какие пакеты применяются в OSPF:

![OSPF packets](pics/OSPF_packets.PNG)

Содержимое Hello-пакетов. **Выделим те**, которые должны совпадать для установления зависимости:

![Hello package](pics/hello_package.PNG)

Диаграма состояний установления отношений смежности выглядит следующим образом:

![Adjacency diagram](pics/adjacency_diagram.png)

## Установка отношений смежности. I этап

![Adjacency proccess](pics/adjacency_proccess.png)

**Важное замечание:** состояния, которые мы здесь видим, это состояния отношений смежности, а не роутеров.

**Касательное состояния ATTEMPT:** оно имеет место только в случае недоступности широковещательной рассылки, в таком случае адрес соседа указывается вручную, пакеты hello посылаются при помощи unicast-рассылки, а таблица соседей инициализируется с готовой записью об адресе соседа.

## Установка отношений смежности. II этап

![DBD exchange](pics/dbd_exchange.png)

## Установка отношений смежности. III этап

![LSA exchange](pics/lsa_exchange.png)